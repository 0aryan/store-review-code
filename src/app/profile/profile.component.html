<!--
<input type="text" [formControl]="name" /> {{ name.value }}
<button class="btn btn-primary" (click)="updateName()">Update Name</button>
-->
<!-- {{ profileForm.value | json }} -->
<div class="row">
  <div class="col-6">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input
          type="email"
          class="form-control"
          id="name"
          formControlName="name"
        />
        <!-- {{ name.errors | json }} -->
        <div class="alert alert-danger" *ngIf="name.dirty && name.invalid">
          <span *ngIf="name.errors?.['required']">
            Author name is required</span
          >
          <span *ngIf="name.errors?.['maxlength']">
            maximum characters is
            {{ name.errors?.['maxlength']['requiredLength'] }}
          </span>
          <span *ngIf="name.errors?.['forbidden']">
            Name '{{name.errors?.['forbidden']}}' is not allowed</span
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">email</label>
        <input
          type="email"
          class="form-control"
          id="email"
          formControlName="email"
        />
        <!-- {{ email.errors | json }} -->

        <div class="alert alert-danger" *ngIf="email.dirty && email.invalid">
          <span *ngIf="email.errors?.['required']"> email is required</span>
          <span *ngIf="email.errors?.['email']"> enter proper email </span>
        </div>
      </div>

      <div class="mb-3">
        <label for="age" class="form-label">age</label>
        <input
          type="number"
          class="form-control"
          id="age"
          formControlName="age"
        />
        <!-- {{ age.errors | json }} -->
        <div class="alert alert-danger" *ngIf="age.dirty && age.invalid">
          <span *ngIf="age.errors?.['required']"> age is required </span>
          <span *ngIf="age.errors?.['min']">
            Minimum age is {{age.errors?.['min']['min']}}
          </span>
        </div>
      </div>

      <div class="mb-3">
        <label for="url" class="form-label">url</label>
        <input type="url" class="form-control" id="url" formControlName="url" />
        <!-- {{ url.errors | json }} -->

        <div class="alert alert-danger" *ngIf="url.dirty && url.invalid">
          <span *ngIf="!url.errors?.['url']"> enter proper url </span>
        </div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">password</label>
        <input
          type="password"
          class="form-control"
          id="password"
          formControlName="password"
        />
        <div
          class="alert alert-danger"
          *ngIf="password.dirty && password.invalid"
        >
          <div *ngIf="password.errors?.['required']">password is required</div>
          <br />
          <div *ngIf="!password.errors?.['match']">
            password is requires a special characters, numbers and letters
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label for="confirmPassword" class="form-label">confirmPassword</label>
        <input
          type="password"
          class="form-control"
          id="confirmPassword"
          formControlName="confirmPassword"
        />
        <div
          class="alert alert-danger"
          *ngIf="profileForm.dirty && profileForm.invalid && profileForm.errors"
        >
          Password and confirmPassword is required
        </div>
      </div>

      <div formGroupName="address">
        <h3>Address</h3>

        <div class="mb-3">
          <label for="street" class="form-label">street</label>
          <input
            type="text"
            class="form-control"
            id="street"
            formControlName="street"
          />
        </div>

        <div class="mb-3">
          <label for="city" class="form-label">city</label>
          <input
            type="text"
            class="form-control"
            id="city"
            formControlName="city"
          />
        </div>

        <div class="mb-3">
          <label for="zip" class="form-label">zip</label>
          <input
            type="text"
            class="form-control"
            id="zip"
            formControlName="zip"
          />
        </div>

        <div class="mb-3">
          <label for="country" class="form-label">country</label>
          <input
            type="text"
            class="form-control"
            id="country"
            formControlName="country"
          />
        </div>
      </div>

      <div formArrayName="mobile">
        <h3>Mobile</h3>

        <div
          class="mb-3"
          *ngFor="let control of mobileControls.controls; let i = index"
        >
          <input type="number" class="form-control" [formControlName]="i" />
        </div>

        <button type="button" class="btn btn-warning" (click)="addMobile()">
          Add Mobile
        </button>
      </div>
      <br />
      <button type="submit" class="btn btn-primary">Submit</button>
      <br />
      <br />
      <button type="button" class="btn btn-primary" (click)="updateProfile()">
        Update Profile
      </button>
    </form>
  </div>
</div>
